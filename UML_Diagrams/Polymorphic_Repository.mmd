%% Polymorphic Repository Sequence Diagram
sequenceDiagram
    participant Client as Client Code
    participant IPatientRepo as IRepository Patient
    participant PatientRepo as PatientRepository
    participant IDoctorRepo as IRepository Doctor
    participant DoctorRepo as DoctorRepository
    participant BaseRepo as BaseRepository

    Note over Client: Polymorphic usage through interfaces

    Client->>IPatientRepo: GetAll()
    activate IPatientRepo
    IPatientRepo->>PatientRepo: GetAll()
    activate PatientRepo
    PatientRepo->>BaseRepo: GetAll() (inherited)
    activate BaseRepo
    BaseRepo->>BaseRepo: Uses TableName = "tblPatient"
    BaseRepo->>BaseRepo: Uses MapDataReader() from PatientRepository
    BaseRepo-->>PatientRepo: List of Patient
    deactivate BaseRepo
    PatientRepo-->>IPatientRepo: List of Patient
    deactivate PatientRepo
    IPatientRepo-->>Client: List of Patient
    deactivate IPatientRepo

    Client->>IDoctorRepo: GetAll()
    activate IDoctorRepo
    IDoctorRepo->>DoctorRepo: GetAll()
    activate DoctorRepo
    DoctorRepo->>BaseRepo: GetAll() (inherited)
    activate BaseRepo
    BaseRepo->>BaseRepo: Uses TableName = "tblDoctor"
    BaseRepo->>BaseRepo: Uses MapDataReader() from DoctorRepository
    BaseRepo-->>DoctorRepo: List of Doctor
    deactivate BaseRepo
    DoctorRepo-->>IDoctorRepo: List of Doctor
    deactivate DoctorRepo
    IDoctorRepo-->>Client: List of Doctor
    deactivate IDoctorRepo

    Note over Client: Same interface, different implementations<br/>Polymorphism enables code reuse

